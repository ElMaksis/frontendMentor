const subscribeItems=document.querySelectorAll(".subscribe__item"),accordionTabs=document.querySelectorAll(".accordion-item__tab"),accordionLabels=document.querySelectorAll(".accordion-item__label"),summaryOut=document.querySelector(".order"),orderBtn=document.querySelector(".summary__btn"),modal=document.querySelector(".modal"),oneWeek=document.querySelector(".delivery__one-week"),twoWeek=document.querySelector(".delivery__two-week"),fourWeek=document.querySelector(".delivery__four-week"),deliveryOut=document.querySelectorAll(".modal__price"),order={};function selectValue(){this.parentElement.querySelectorAll(".accordion-item__label").forEach(e=>{e.classList.remove("accordion-item__label--active")}),this.classList.add("accordion-item__label--active");var e=this.querySelector(".accordion-item__input").name,r=this.querySelector(".accordion-item__title").textContent;order[e]=r,"Capsule"===order.preference&&(accordionTabs[3].parentElement.classList.add("accordion-item--disabled"),subscribeItems[3].classList.add("subscribe__item--disabled")),"Filter"!==order.preference&&"Espresso"!==order.preference||(accordionTabs[3].parentElement.classList.remove("accordion-item--disabled"),subscribeItems[3].classList.remove("subscribe__item--disabled")),calcOrder(),renderOrder()}function renderOrder(){let e;e=accordionLabels[1].firstElementChild.checked||accordionLabels[2].firstElementChild.checked?`“I drink my coffee as <span class="order__pref">
        ${order.preference||"_____"}</span>, with a 
        <span class="order__type">${order.type||"_____"}</span> type of bean. 
        <span class="order__quantity">${order.quantity||"_____"}</span> ground ala, 
        <span class="order__grind">${order.grind||"_____"}</span> sent to me
        <span class="order__delivery">${order.delivery||"_____"}</span>.”`:`“I drink my coffee using <span class="order__pref">Capsules</span>, with a 
        <span class="order__type">${order.type||"_____"}</span> type of bean. 
        <span class="order__quantity">${order.quantity||"_____"}</span>,
        sent to me <span class="order__delivery">${order.delivery||"_____"}</span>.”`,summaryOut.innerHTML=e,modal.querySelector(".modal__order ").innerHTML=e,deliveryOut[0].textContent=`$${order.deliveryCost}/ mo`,deliveryOut[1].textContent=` - $${order.deliveryCost}/ mo`,6===Object.keys(order).length&&(orderBtn.classList.remove("button--disabled"),orderBtn.addEventListener("click",showModal))}function accordionHandler(e){var r=e.parentElement,t=r.dataset.num;if("Capsule"===order.preference&&"3"===t)return!1;r.classList.contains("accordion-item--active")?(r.classList.remove("accordion-item--active"),e.nextElementSibling.style="display: none",subscribeItems[t].classList.remove("subscribe__item--active")):(e.nextElementSibling.style="display: flex",subscribeItems.forEach(e=>{e.classList.remove("subscribe__item--active")}),subscribeItems[t].classList.add("subscribe__item--active"),r.classList.add("accordion-item--active"),window.scrollTo(0,r.offsetTop))}function showModal(){modal.style.display="block",modal.querySelector(".modal__wrapper").style.top=window.scrollY+"px",document.body.style.overflow="hidden",modal.addEventListener("click",e=>{e.target.classList.contains("modal__wrapper")&&(modal.style="display: none",document.body.style.overflow="")})}function calcOrder(){switch(order.quantity){case"250g":oneWeek.textContent="$7.20",twoWeek.textContent="$9.60",fourWeek.textContent="$12.00","Every week"===order.delivery&&(order.deliveryCost=28.8),"Every 2 weeks"===order.delivery&&(order.deliveryCost=19.2),"Every month"===order.delivery&&(order.deliveryCost=12);break;case"500g":oneWeek.textContent="$13.00",twoWeek.textContent="$17.50",fourWeek.textContent="$22.00","Every week"===order.delivery&&(order.deliveryCost=52),"Every 2 weeks"===order.delivery&&(order.deliveryCost=35),"Every month"===order.delivery&&(order.deliveryCost=22);break;case"1000g":oneWeek.textContent="$22.00",twoWeek.textContent="$32.00",fourWeek.textContent="$42.00","Every week"===order.delivery&&(order.deliveryCost=88),"Every 2 weeks"===order.delivery&&(order.deliveryCost=64),"Every month"===order.delivery&&(order.deliveryCost=42)}}accordionTabs.forEach(e=>{e.addEventListener("click",function(e){accordionHandler(e.target)})}),subscribeItems.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=e.target.closest(".subscribe__item").dataset.num;accordionHandler(accordionTabs[e])})}),accordionLabels.forEach(e=>{e.addEventListener("change",selectValue)}),renderOrder();